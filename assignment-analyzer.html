<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Land Wholesale Two-Stage Calculator</title>
  <style>
    :root {
      --bg: #f5f5f5;
      --card: #ffffff;
      --text: #111827;
      --muted: #6b7280;
      --border: #e5e7eb;
      --primary: #4285f4;
      --primaryHover: #357ae8;
      --shadow: 0 2px 10px rgba(0, 0, 0, 0.08);
      --radius: 10px;
    }
    * { box-sizing: border-box; }
    body {
      margin: 0;
      font-family: Arial, sans-serif;
      background: var(--bg);
      color: var(--text);
    }
    .page {
      min-height: 100vh;
      padding: 24px;
      display: flex;
      align-items: flex-start;
      justify-content: center;
    }
    .grid {
      width: 100%;
      max-width: 900px;
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 24px;
      align-items: start;
    }
    @media (max-width: 900px) {
      .grid { grid-template-columns: 1fr; }
    }
    .card {
      background: var(--card);
      border-radius: var(--radius);
      box-shadow: var(--shadow);
      padding: 24px 20px 20px 20px;
      margin-bottom: 16px;
    }
    .card h2 {
      margin: 0 0 12px 0;
    }
    .subtle {
      margin: -6px 0 14px 0;
      color: var(--muted);
      font-size: 0.95rem;
    }
    .form-group {
      margin-bottom: 14px;
    }
    label {
      display: block;
      font-weight: 700;
      margin-bottom: 6px;
    }
    input[type="number"] {
      width: 100%;
      padding: 10px;
      border: 1px solid var(--border);
      border-radius: 8px;
      font-size: 1rem;
    }
    input[readonly] {
      background: #f9fafb;
      color: #374151;
    }
    button {
      width: 100%;
      padding: 10px 12px;
      border: none;
      border-radius: 8px;
      background: var(--primary);
      color: white;
      font-size: 1rem;
      cursor: pointer;
    }
    button:hover {
      background: var(--primaryHover);
    }
    .result {
      margin-top: 16px;
      padding-top: 12px;
      border-top: 1px solid var(--border);
      color: #111827;
      line-height: 1.35;
    }
    .back-link {
      display: inline-block;
      margin-top: 18px;
      color: var(--primary);
      text-decoration: none;
      font-weight: 600;
    }
    .back-link:hover {
      text-decoration: underline;
    }
  </style>
</head>
  <body>
    <main class="page">
      <div class="grid">
        <!-- Stage 1: The Buy -->
        <section class="card" aria-labelledby="buy-title">
          <h2 id="buy-title">Stage 1: The Buy</h2>
          <p class="subtle">Enter Market Value, Back Taxes, and Desired Fee to get your low-ball offer.</p>
          <div class="form-group">
            <label for="marketValue">Market Value ($)</label>
            <input type="number" id="marketValue" min="0" placeholder="e.g. 50000" />
          </div>
          <div class="form-group">
            <label for="backTaxes">Back Taxes / Liens ($)</label>
            <input type="number" id="backTaxes" min="0" placeholder="e.g. 2000" />
          </div>
          <div class="form-group">
            <label for="desiredFee">Desired Wholesale Fee ($)</label>
            <input type="number" id="desiredFee" min="0" placeholder="e.g. 10000" />
          </div>
          <button type="button" id="calcBuyBtn">Calculate Buy Offer</button>
          <div class="result" id="buyResult" aria-live="polite"></div>
        </section>

        <!-- Stage 2: The Sell -->
        <section class="card" aria-labelledby="sell-title">
          <h2 id="sell-title">Stage 2: The Sell</h2>
          <p class="subtle">Enter your contract price to get the Investor Pitch Price and Deal Score.</p>
          <div class="form-group">
            <label for="contractPrice">Contract Price ($)</label>
            <input type="number" id="contractPrice" min="0" placeholder="e.g. 15000" />
          </div>
          <div class="form-group">
            <label for="sellFee">Your Fee ($)</label>
            <input type="number" id="sellFee" min="0" placeholder="e.g. 10000" />
          </div>
          <div class="form-group">
            <label for="sellMarketValue">Market Value ($)</label>
            <input type="number" id="sellMarketValue" min="0" placeholder="e.g. 50000" />
          </div>
          <button type="button" id="calcSellBtn">Calculate Investor Price</button>
          <div class="result" id="sellResult" aria-live="polite"></div>
        </section>
      </div>
      <a class="back-link" href="index.html">&larr; Back to Main Page</a>
    </main>

    <script>
      function formatMoney(n) {
        if (Number.isNaN(n)) return "";
        return n.toLocaleString(undefined, { maximumFractionDigits: 2 });
      }

      // Stage 1: The Buy
      document.getElementById("calcBuyBtn").addEventListener("click", function () {
        const mv = parseFloat(document.getElementById("marketValue").value);
        const taxes = parseFloat(document.getElementById("backTaxes").value);
        const fee = parseFloat(document.getElementById("desiredFee").value);
        if (Number.isNaN(mv) || Number.isNaN(taxes) || Number.isNaN(fee)) {
          document.getElementById("buyResult").textContent = "Please fill in all fields.";
          return;
        }
        const offer = mv * 0.65 - taxes - fee;
        document.getElementById("buyResult").innerHTML = `<strong>Low-Ball Offer:</strong> $${formatMoney(offer)}`;
      });

      // Stage 2: The Sell
      document.getElementById("calcSellBtn").addEventListener("click", function () {
        const contract = parseFloat(document.getElementById("contractPrice").value);
        const fee = parseFloat(document.getElementById("sellFee").value);
        const mv = parseFloat(document.getElementById("sellMarketValue").value);
        if (Number.isNaN(contract) || Number.isNaN(fee) || Number.isNaN(mv)) {
          document.getElementById("sellResult").textContent = "Please fill in all fields.";
          return;
        }
        const investorPrice = contract + fee;
        let score = "";
        const pct = investorPrice / mv;
        if (pct < 0.5) score = "Homerun Deal";
        else if (pct < 0.65) score = "Strong Deal";
        else if (pct > 0.7) score = "Overpriced/Thin";
        else score = "Decent Deal";
        document.getElementById("sellResult").innerHTML = `<strong>Investor Pitch Price:</strong> $${formatMoney(investorPrice)}<br><strong>Deal Score:</strong> ${score}`;
      });
    </script>
</body>
</html>
